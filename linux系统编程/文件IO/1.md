## 文件属性
`st_mode` 文件属性，类型`mode_t`,16位整型数
一共有dcb-lsp七个文件类型
|代号|文件类型|说明|
|---|-------|--|
|d|目录文件|目录文件包含其他文件和目录的列表，相当于文件夹|
|c|字符设备文件|字符设备文件用于与字符设备（如键盘、串口）进行交互|
|b|块设备文件|块设备文件用于与块设备（如硬盘、光驱）进行交互|
|-|常规文件|文本文件、二进制文件、图像文件|
|l|符号链接|符号链接是指向另一个文件或目录的指针，类似于 Windows 中的快捷方式|
|s|套接字|套接字文件用于进程间的网络通信|
|p|FIFO(管道)|FIFO 文件用于进程间通信，遵循先进先出（FIFO）原则|
linux中下列宏可以判定文件类型：
```c
S_ISREG(m)  is it a regular file?
S_ISDIR(m)  directory?
S_ISCHR(m)  character device?
S_ISBLK(m)  block device?
S_ISFIFO(m) FIFO (named pipe)?
S_ISLNK(m)  symbolic link?  (Not in POSIX.1-1996.)
S_ISSOCK(m) socket?  (Not in POSIX.1-1996.)
```
**实例**：
```c
#include <stdio.h>
#include <stdlib.h>
#include <sys/stat.h>
#include <unistd.h>
#include <fcntl.h>
#include <sys/types.h>
void ftype(char *filename){
    struct stat statres;
    if(stat(filename, &statres)<0){
        perror("stat()");
        exit(1);
    }
    if(S_ISREG(statres.st_mode))
        printf("- regular file.\n");
    else if(S_ISDIR(statres.st_mode))
        printf("d directory file.\n");
    else if(S_ISCHR(statres.st_mode))
        printf("c character device.\n");
    else if(S_ISBLK(statres.st_mode))
        printf("b block device.\n");
    else if(S_ISFIFO(statres.st_mode))
        printf("p pipe.\n");
    else if(S_ISLINK(statres.st_mode))
        printf("l link.\n");
    else if(S_ISSOCK(statres.st_mode))
        printf("s socket.\n");
    else
        printf("?");
}
int main(int argc, char **argv){
    if(argv<2){
        fprintf(stderr, "Usage: %s <filename>", argv[0]);
        exit(1);
    }
    ftype(argv[1]);
}
```
```c
上列宏是通过以下&位操作运行：
    S_IFMT     0170000   bit mask for the file type bit field
    S_IFSOCK   0140000   socket
    S_IFLNK    0120000   symbolic link
    S_IFREG    0100000   regular file
    S_IFBLK    0060000   block device
    S_IFDIR    0040000   directory
    S_IFCHR    0020000   character device
    S_IFIFO    0010000   FIFO
```

## 文件权限
umask：作用防止产生权限过松的文件
```c
       #include <sys/stat.h>
       int chmod(const char *pathname, mode_t mode);
       int fchmod(int fd, mode_t mode);
```
粘住位：t位
## 文件系统FAT,UFS
文件或数据的存储和管理
FAT:静态存储的单链表
```c
struct{
    int next[n];
    char data[n][size];
}
```
清理内存软件：创建一个进程不停的吃内存，将物理内存中的数据挤入swap交换分区中。达到一个限度，进程结束，原进程中的数据挤入swap中。
* 换出率： 从物理内存转入swap交换分区
换出是为了将不常用的内存数据放入swap中
* 换入率： 从swap交换分区转入物理内存
换入是为了将原本swap中的拿入内存提高性能
如果换出率和换入率都高，说明系统无法载入所有数据只能不断数据交换

### UFS
(https://blog.csdn.net/m0_63690570/article/details/141331583)